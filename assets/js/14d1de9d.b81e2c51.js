"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9779],{7111:(r,n,e)=>{e.r(n),e.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"examples/basic/validation","title":"JSON\u6570\u636e\u9a8c\u8bc1\u793a\u4f8b","description":"\u672c\u793a\u4f8b\u5c55\u793a\u5982\u4f55\u4f7f\u7528JsonSage\u8fdb\u884cJSON\u6570\u636e\u9a8c\u8bc1\u3002","source":"@site/docs/examples/basic/validation.md","sourceDirName":"examples/basic","slug":"/examples/basic/validation","permalink":"/jsonsage/examples/basic/validation","draft":false,"unlisted":false,"editUrl":"https://github.com/hongping1963-source/jsonsage/tree/main/website/docs/examples/basic/validation.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"JSON\u6587\u4ef6\u76d1\u63a7\u793a\u4f8b","permalink":"/jsonsage/examples/basic/file-monitoring"},"next":{"title":"JSON\u6570\u636e\u8f6c\u6362\u793a\u4f8b","permalink":"/jsonsage/examples/basic/transformation"}}');var a=e(74848),t=e(28453);const i={},o="JSON\u6570\u636e\u9a8c\u8bc1\u793a\u4f8b",l={},c=[{value:"\u57fa\u7840\u9a8c\u8bc1",id:"\u57fa\u7840\u9a8c\u8bc1",level:2},{value:"\u7b80\u5355\u7c7b\u578b\u9a8c\u8bc1",id:"\u7b80\u5355\u7c7b\u578b\u9a8c\u8bc1",level:3},{value:"\u4f7f\u7528 Schema \u9a8c\u8bc1",id:"\u4f7f\u7528-schema-\u9a8c\u8bc1",level:3},{value:"\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u89c4\u5219",id:"\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u89c4\u5219",level:3},{value:"\u6570\u7ec4\u9a8c\u8bc1",id:"\u6570\u7ec4\u9a8c\u8bc1",level:3},{value:"\u5d4c\u5957\u5bf9\u8c61\u9a8c\u8bc1",id:"\u5d4c\u5957\u5bf9\u8c61\u9a8c\u8bc1",level:3},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:3},{value:"\u4f7f\u7528 AI \u8f85\u52a9\u9a8c\u8bc1",id:"\u4f7f\u7528-ai-\u8f85\u52a9\u9a8c\u8bc1",level:3},{value:"\u9ad8\u7ea7\u9a8c\u8bc1",id:"\u9ad8\u7ea7\u9a8c\u8bc1",level:2},{value:"\u81ea\u5b9a\u4e49\u683c\u5f0f",id:"\u81ea\u5b9a\u4e49\u683c\u5f0f",level:3},{value:"\u6761\u4ef6\u9a8c\u8bc1",id:"\u6761\u4ef6\u9a8c\u8bc1",level:3},{value:"\u6279\u91cf\u9a8c\u8bc1",id:"\u6279\u91cf\u9a8c\u8bc1",level:2},{value:"\u5b9e\u65f6\u9a8c\u8bc1",id:"\u5b9e\u65f6\u9a8c\u8bc1",level:2},{value:"\u5b8c\u6574\u793a\u4f8b",id:"\u5b8c\u6574\u793a\u4f8b",level:2},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2}];function d(r){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...r.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"json\u6570\u636e\u9a8c\u8bc1\u793a\u4f8b",children:"JSON\u6570\u636e\u9a8c\u8bc1\u793a\u4f8b"})}),"\n",(0,a.jsx)(n.p,{children:"\u672c\u793a\u4f8b\u5c55\u793a\u5982\u4f55\u4f7f\u7528JsonSage\u8fdb\u884cJSON\u6570\u636e\u9a8c\u8bc1\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u57fa\u7840\u9a8c\u8bc1",children:"\u57fa\u7840\u9a8c\u8bc1"}),"\n",(0,a.jsx)(n.h3,{id:"\u7b80\u5355\u7c7b\u578b\u9a8c\u8bc1",children:"\u7b80\u5355\u7c7b\u578b\u9a8c\u8bc1"}),"\n",(0,a.jsx)(n.p,{children:"\u6700\u57fa\u672c\u7684\u9a8c\u8bc1\u662f\u68c0\u67e5\u6570\u636e\u7c7b\u578b\u548c\u5fc5\u586b\u5b57\u6bb5\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'import { JsonSage } from \'jsonsage\';\r\n\r\nconst sage = new JsonSage();\r\n\r\n// \u8981\u9a8c\u8bc1\u7684\u6570\u636e\r\nconst data = {\r\n  name: "John Doe",\r\n  age: 30,\r\n  email: "john@example.com",\r\n  isActive: true\r\n};\r\n\r\n// \u9a8c\u8bc1\u6570\u636e\r\nconst result = await sage.validate(data);\r\n\r\nif (result.isValid) {\r\n  console.log("\u6570\u636e\u9a8c\u8bc1\u901a\u8fc7");\r\n} else {\r\n  console.error("\u9a8c\u8bc1\u5931\u8d25:", result.errors);\r\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u4f7f\u7528-schema-\u9a8c\u8bc1",children:"\u4f7f\u7528 Schema \u9a8c\u8bc1"}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528 JSON Schema \u8fdb\u884c\u66f4\u590d\u6742\u7684\u9a8c\u8bc1\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'const userSchema = {\r\n  type: "object",\r\n  properties: {\r\n    name: {\r\n      type: "string",\r\n      minLength: 2,\r\n      maxLength: 50\r\n    },\r\n    age: {\r\n      type: "number",\r\n      minimum: 0,\r\n      maximum: 120\r\n    },\r\n    email: {\r\n      type: "string",\r\n      format: "email"\r\n    },\r\n    isActive: {\r\n      type: "boolean"\r\n    }\r\n  },\r\n  required: ["name", "email"]\r\n};\r\n\r\nconst result = await sage.validate(data, userSchema);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u89c4\u5219",children:"\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u89c4\u5219"}),"\n",(0,a.jsx)(n.p,{children:"\u6dfb\u52a0\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u89c4\u5219\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'const customSchema = {\r\n  type: "object",\r\n  properties: {\r\n    password: {\r\n      type: "string",\r\n      minLength: 8,\r\n      pattern: "^(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{8,}$"\r\n    },\r\n    confirmPassword: {\r\n      type: "string"\r\n    }\r\n  },\r\n  required: ["password", "confirmPassword"],\r\n  custom: {\r\n    passwordMatch: (data) => {\r\n      return data.password === data.confirmPassword;\r\n    }\r\n  }\r\n};\r\n\r\nconst userData = {\r\n  password: "Password123",\r\n  confirmPassword: "Password123"\r\n};\r\n\r\nconst result = await sage.validate(userData, customSchema);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u6570\u7ec4\u9a8c\u8bc1",children:"\u6570\u7ec4\u9a8c\u8bc1"}),"\n",(0,a.jsx)(n.p,{children:"\u9a8c\u8bc1\u6570\u7ec4\u7c7b\u578b\u7684\u6570\u636e\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'const arraySchema = {\r\n  type: "array",\r\n  items: {\r\n    type: "object",\r\n    properties: {\r\n      id: { type: "number" },\r\n      name: { type: "string" }\r\n    },\r\n    required: ["id", "name"]\r\n  },\r\n  minItems: 1,\r\n  maxItems: 10\r\n};\r\n\r\nconst users = [\r\n  { id: 1, name: "John" },\r\n  { id: 2, name: "Jane" }\r\n];\r\n\r\nconst result = await sage.validate(users, arraySchema);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u5d4c\u5957\u5bf9\u8c61\u9a8c\u8bc1",children:"\u5d4c\u5957\u5bf9\u8c61\u9a8c\u8bc1"}),"\n",(0,a.jsx)(n.p,{children:"\u9a8c\u8bc1\u590d\u6742\u7684\u5d4c\u5957\u5bf9\u8c61\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'const nestedSchema = {\r\n  type: "object",\r\n  properties: {\r\n    user: {\r\n      type: "object",\r\n      properties: {\r\n        name: { type: "string" },\r\n        address: {\r\n          type: "object",\r\n          properties: {\r\n            street: { type: "string" },\r\n            city: { type: "string" },\r\n            country: { type: "string" }\r\n          },\r\n          required: ["street", "city"]\r\n        }\r\n      },\r\n      required: ["name", "address"]\r\n    }\r\n  }\r\n};\r\n\r\nconst nestedData = {\r\n  user: {\r\n    name: "John Doe",\r\n    address: {\r\n      street: "123 Main St",\r\n      city: "New York",\r\n      country: "USA"\r\n    }\r\n  }\r\n};\r\n\r\nconst result = await sage.validate(nestedData, nestedSchema);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"}),"\n",(0,a.jsx)(n.p,{children:"\u5904\u7406\u9a8c\u8bc1\u9519\u8bef\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'try {\r\n  const result = await sage.validate(data, schema);\r\n  \r\n  if (!result.isValid) {\r\n    result.errors.forEach(error => {\r\n      console.error(`\u9519\u8bef\u8def\u5f84: ${error.path}`);\r\n      console.error(`\u9519\u8bef\u6d88\u606f: ${error.message}`);\r\n      console.error(`\u9519\u8bef\u7c7b\u578b: ${error.type}`);\r\n    });\r\n  }\r\n} catch (error) {\r\n  console.error("\u9a8c\u8bc1\u8fc7\u7a0b\u51fa\u9519:", error);\r\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u4f7f\u7528-ai-\u8f85\u52a9\u9a8c\u8bc1",children:"\u4f7f\u7528 AI \u8f85\u52a9\u9a8c\u8bc1"}),"\n",(0,a.jsx)(n.p,{children:"JsonSage \u7684 AI \u529f\u80fd\u53ef\u4ee5\u5e2e\u52a9\u4f60\u8bc6\u522b\u6f5c\u5728\u7684\u6570\u636e\u95ee\u9898\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"// \u542f\u7528 AI \u9a8c\u8bc1\r\nconst sage = new JsonSage({\r\n  aiModel: 'deepseek'\r\n});\r\n\r\n// AI \u4f1a\u5206\u6790\u6570\u636e\u5e76\u63d0\u4f9b\u5efa\u8bae\r\nconst result = await sage.validate(data, {\r\n  enableAI: true,\r\n  aiSuggestions: true\r\n});\r\n\r\n// \u67e5\u770b AI \u5efa\u8bae\r\nif (result.suggestions) {\r\n  console.log(\"AI \u5efa\u8bae:\", result.suggestions);\r\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u9ad8\u7ea7\u9a8c\u8bc1",children:"\u9ad8\u7ea7\u9a8c\u8bc1"}),"\n",(0,a.jsx)(n.h3,{id:"\u81ea\u5b9a\u4e49\u683c\u5f0f",children:"\u81ea\u5b9a\u4e49\u683c\u5f0f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"sage.addFormat('chinese-phone', {\r\n  validate: (phone) => /^1[3-9]\\d{9}$/.test(phone),\r\n  errorMessage: '\u5fc5\u987b\u662f\u6709\u6548\u7684\u4e2d\u56fd\u624b\u673a\u53f7\u7801'\r\n});\r\n\r\nconst schema = {\r\n  type: 'object',\r\n  properties: {\r\n    phone: { type: 'string', format: 'chinese-phone' }\r\n  }\r\n};\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u6761\u4ef6\u9a8c\u8bc1",children:"\u6761\u4ef6\u9a8c\u8bc1"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"const schema = {\r\n  type: 'object',\r\n  properties: {\r\n    type: { type: 'string', enum: ['personal', 'business'] },\r\n    taxId: { type: 'string' }\r\n  },\r\n  required: ['type'],\r\n  if: {\r\n    properties: { type: { const: 'business' } }\r\n  },\r\n  then: {\r\n    required: ['taxId']\r\n  }\r\n};\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u6279\u91cf\u9a8c\u8bc1",children:"\u6279\u91cf\u9a8c\u8bc1"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"async function validateMultipleFiles() {\r\n  const sage = new JsonSage();\r\n  \r\n  const results = await sage.validateBatch({\r\n    './users/*.json': userSchema,\r\n    './products/*.json': productSchema,\r\n    './orders/*.json': orderSchema\r\n  });\r\n\r\n  for (const [file, result] of Object.entries(results)) {\r\n    if (!result.valid) {\r\n      console.error(`\u6587\u4ef6 ${file} \u9a8c\u8bc1\u5931\u8d25:`, result.errors);\r\n    }\r\n  }\r\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u5b9e\u65f6\u9a8c\u8bc1",children:"\u5b9e\u65f6\u9a8c\u8bc1"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"const sage = new JsonSage({\r\n  watchPath: './data',\r\n  validateOnChange: true,\r\n  schemas: {\r\n    'users/*.json': userSchema,\r\n    'products/*.json': productSchema\r\n  }\r\n});\r\n\r\nsage.on('validationError', (error) => {\r\n  console.error('\u9a8c\u8bc1\u9519\u8bef:', {\r\n    file: error.file,\r\n    errors: error.errors\r\n  });\r\n});\r\n\r\nsage.start();\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u5b8c\u6574\u793a\u4f8b",children:"\u5b8c\u6574\u793a\u4f8b"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"import { JsonSage } from '@zhanghongping/json-sage-workflow';\r\nimport * as fs from 'fs';\r\n\r\nasync function setupValidation() {\r\n  // \u521b\u5efa\u9a8c\u8bc1\u5668\u5b9e\u4f8b\r\n  const sage = new JsonSage({\r\n    watchPath: './data',\r\n    validateOnChange: true\r\n  });\r\n\r\n  // \u6dfb\u52a0\u81ea\u5b9a\u4e49\u683c\u5f0f\r\n  sage.addFormat('chinese-phone', {\r\n    validate: (phone) => /^1[3-9]\\d{9}$/.test(phone),\r\n    errorMessage: '\u5fc5\u987b\u662f\u6709\u6548\u7684\u4e2d\u56fd\u624b\u673a\u53f7\u7801'\r\n  });\r\n\r\n  // \u5b9a\u4e49\u7528\u6237\u6a21\u5f0f\r\n  const userSchema = {\r\n    type: 'object',\r\n    properties: {\r\n      id: { type: 'string', pattern: '^USER_\\\\d+$' },\r\n      name: { type: 'string', minLength: 2 },\r\n      age: { type: 'number', minimum: 0 },\r\n      email: { type: 'string', format: 'email' },\r\n      phone: { type: 'string', format: 'chinese-phone' },\r\n      address: {\r\n        type: 'object',\r\n        properties: {\r\n          street: { type: 'string' },\r\n          city: { type: 'string' },\r\n          country: { type: 'string' }\r\n        },\r\n        required: ['city', 'country']\r\n      }\r\n    },\r\n    required: ['id', 'name', 'email']\r\n  };\r\n\r\n  // \u914d\u7f6e\u9a8c\u8bc1\u89c4\u5219\r\n  sage.setSchemas({\r\n    'users/*.json': userSchema\r\n  });\r\n\r\n  // \u76d1\u542c\u9a8c\u8bc1\u4e8b\u4ef6\r\n  sage.on('validationError', (error) => {\r\n    console.error(`\u6587\u4ef6 ${error.file} \u9a8c\u8bc1\u5931\u8d25:`, error.errors);\r\n    // \u53d1\u9001\u901a\u77e5\u6216\u8bb0\u5f55\u65e5\u5fd7\r\n    notifyValidationError(error);\r\n  });\r\n\r\n  sage.on('validationSuccess', (file) => {\r\n    console.log(`\u6587\u4ef6 ${file} \u9a8c\u8bc1\u901a\u8fc7`);\r\n  });\r\n\r\n  // \u542f\u52a8\u76d1\u63a7\u548c\u9a8c\u8bc1\r\n  await sage.start();\r\n\r\n  return sage;\r\n}\r\n\r\n// \u4f7f\u7528\u793a\u4f8b\r\nconst userData = {\r\n  id: 'USER_001',\r\n  name: '\u5f20\u4e09',\r\n  age: 30,\r\n  email: 'zhangsan@example.com',\r\n  phone: '13912345678',\r\n  address: {\r\n    street: '\u4e2d\u5173\u6751\u5927\u88571\u53f7',\r\n    city: '\u5317\u4eac',\r\n    country: '\u4e2d\u56fd'\r\n  }\r\n};\r\n\r\n// \u9a8c\u8bc1\u5355\u4e2a\u6570\u636e\r\nconst sage = new JsonSage();\r\nconst result = await sage.validateData(userData, userSchema);\r\n\r\nif (result.valid) {\r\n  console.log('\u6570\u636e\u9a8c\u8bc1\u901a\u8fc7');\r\n  await fs.promises.writeFile(\r\n    './data/users/USER_001.json',\r\n    JSON.stringify(userData, null, 2)\r\n  );\r\n} else {\r\n  console.error('\u6570\u636e\u9a8c\u8bc1\u5931\u8d25:', result.errors);\r\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u6a21\u5f0f\u590d\u7528"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u5c06\u5e38\u7528\u7684\u6a21\u5f0f\u5b9a\u4e49\u4e3a\u5e38\u91cf"}),"\n",(0,a.jsx)(n.li,{children:"\u4f7f\u7528\u6a21\u5f0f\u7ec4\u5408\u521b\u5efa\u590d\u6742\u9a8c\u8bc1\u89c4\u5219"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u9519\u8bef\u5904\u7406"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u4e3a\u6bcf\u79cd\u9519\u8bef\u7c7b\u578b\u5b9a\u4e49\u6e05\u6670\u7684\u9519\u8bef\u6d88\u606f"}),"\n",(0,a.jsx)(n.li,{children:"\u5b9e\u73b0\u9519\u8bef\u6062\u590d\u673a\u5236"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u6027\u80fd\u4f18\u5316"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u4f7f\u7528\u7f13\u5b58\u907f\u514d\u91cd\u590d\u9a8c\u8bc1"}),"\n",(0,a.jsx)(n.li,{children:"\u5b9e\u73b0\u589e\u91cf\u9a8c\u8bc1"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u53ef\u7ef4\u62a4\u6027"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u5c06\u6a21\u5f0f\u5b9a\u4e49\u653e\u5728\u5355\u72ec\u7684\u6587\u4ef6\u4e2d"}),"\n",(0,a.jsx)(n.li,{children:"\u4f7f\u7528\u6ce8\u91ca\u8bf4\u660e\u9a8c\u8bc1\u89c4\u5219\u7684\u7528\u9014"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u76d1\u63a7\u548c\u65e5\u5fd7"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u8bb0\u5f55\u9a8c\u8bc1\u9519\u8bef\u548c\u6027\u80fd\u6307\u6807"}),"\n",(0,a.jsx)(n.li,{children:"\u8bbe\u7f6e\u544a\u8b66\u9608\u503c"}),"\n"]}),"\n"]}),"\n"]})]})}function h(r={}){const{wrapper:n}={...(0,t.R)(),...r.components};return n?(0,a.jsx)(n,{...r,children:(0,a.jsx)(d,{...r})}):d(r)}},28453:(r,n,e)=>{e.d(n,{R:()=>i,x:()=>o});var s=e(96540);const a={},t=s.createContext(a);function i(r){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof r?r(n):{...n,...r}}),[n,r])}function o(r){let n;return n=r.disableParentContext?"function"==typeof r.components?r.components(a):r.components||a:i(r.components),s.createElement(t.Provider,{value:n},r.children)}}}]);